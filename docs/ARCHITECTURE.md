# ğŸ—ï¸ Arquitetura do Sistema - FarmTech Solutions

## VisÃ£o Geral

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    USUÃRIOS / INTERFACES                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  Dashboard   â”‚  â”‚  CLI         â”‚  â”‚  API REST    â”‚              â”‚
â”‚  â”‚  Streamlit   â”‚  â”‚  Terminal    â”‚  â”‚  ESP32       â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      CAMADA DE ORQUESTRAÃ‡ÃƒO                          â”‚
â”‚                       (src/fase7/)                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Orchestrator: Coordena execuÃ§Ã£o de todas as fases           â”‚  â”‚
â”‚  â”‚  Launcher CLI: Interface de linha de comando                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚            â”‚            â”‚            â”‚            â”‚
         â–¼            â–¼            â–¼            â–¼            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FASE 1    â”‚  â”‚ FASE 2  â”‚  â”‚ FASE 3  â”‚  â”‚ FASE 4  â”‚  â”‚ FASE 6  â”‚
â”‚  CÃ¡lculos  â”‚  â”‚ Banco   â”‚  â”‚ IoT     â”‚  â”‚ ML/Dash â”‚  â”‚ YOLO    â”‚
â”‚  AgrÃ­colas â”‚  â”‚ Dados   â”‚  â”‚ Sensoresâ”‚  â”‚ board   â”‚  â”‚ Vision  â”‚
â”‚            â”‚  â”‚         â”‚  â”‚         â”‚  â”‚         â”‚  â”‚         â”‚
â”‚ â€¢ Ãrea     â”‚  â”‚ â€¢ Modelsâ”‚  â”‚ â€¢ API   â”‚  â”‚ â€¢ Plots â”‚  â”‚ â€¢ Detectâ”‚
â”‚ â€¢ Insumos  â”‚  â”‚ â€¢ CRUD  â”‚  â”‚ â€¢ MQTT  â”‚  â”‚ â€¢ Train â”‚  â”‚ â€¢ Alert â”‚
â”‚ â€¢ Weather  â”‚  â”‚ â€¢ Migr. â”‚  â”‚ â€¢ Bomba â”‚  â”‚ â€¢ Pred. â”‚  â”‚ â€¢ Store â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚              â”‚            â”‚             â”‚            â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â–¼            â”‚             â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚             â”‚
            â”‚  BANCO DE DADOS â”‚â—„â”€â”€â”˜             â”‚
            â”‚  (Fase 2)       â”‚                 â”‚
            â”‚  â€¢ Oracle/SQLiteâ”‚                 â”‚
            â”‚  â€¢ ORM          â”‚                 â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
                     â”‚                          â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SISTEMA DE ALERTAS (FASE 5)                       â”‚
â”‚                          AWS SNS/SES                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Recebe eventos crÃ­ticos das fases 1, 3 e 6                  â”‚  â”‚
â”‚  â”‚  Envia notificaÃ§Ãµes via Email ou SMS                         â”‚  â”‚
â”‚  â”‚  IntegraÃ§Ã£o: boto3 + SNS Topic                               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Email/SMS Subscribers   â”‚
                    â”‚  â€¢ Administradores       â”‚
                    â”‚  â€¢ AgrÃ´nomos             â”‚
                    â”‚  â€¢ Sistema de Monit.     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Fluxo de Dados

### 1. Leitura de Sensores â†’ Banco â†’ Dashboard

```
ESP32 (DHT22, LDR)
    â”‚
    â”œâ”€â–º POST /api/sensor/reading
    â”‚       â”‚
    â”‚       â”œâ”€â–º Valida dados
    â”‚       â”‚
    â”‚       â”œâ”€â–º Salva no DB (Fase 2)
    â”‚       â”‚
    â”‚       â”œâ”€â–º Verifica thresholds
    â”‚       â”‚      â”‚
    â”‚       â”‚      â””â”€â–º Se crÃ­tico â†’ Alerta AWS (Fase 5)
    â”‚       â”‚
    â”‚       â””â”€â–º Responde 200 OK
    â”‚
    â””â”€â–º Dashboard (Fase 4) atualiza grÃ¡ficos em tempo real
```

### 2. Alerta de Clima â†’ NotificaÃ§Ã£o

```
Fase 1: Weather API
    â”‚
    â”œâ”€â–º Consulta OpenWeatherMap
    â”‚
    â”œâ”€â–º Detecta condiÃ§Ã£o adversa (geada, tempestade)
    â”‚
    â””â”€â–º Fase 5: Envia alerta SNS
            â”‚
            â””â”€â–º Email: "â„ï¸ Alerta: Risco de Geada - Temp 3Â°C"
```

### 3. DetecÃ§Ã£o YOLO â†’ Alerta + Registro

```
UsuÃ¡rio faz upload de imagem
    â”‚
    â”œâ”€â–º Fase 6: YOLO Inference
    â”‚       â”‚
    â”‚       â”œâ”€â–º Detecta praga/doenÃ§a
    â”‚       â”‚
    â”‚       â””â”€â–º Retorna bounding boxes + classes
    â”‚
    â”œâ”€â–º Salva resultado no DB (Fase 2)
    â”‚
    â””â”€â–º Se praga detectada â†’ Fase 5: Alerta AWS
            â”‚
            â””â”€â–º Email: "ğŸ› Praga Detectada no Campo 3"
```

## Diagrama de Componentes

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FRONT-END LAYER                                              â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  Streamlit Dashboardâ”‚     â”‚  CLI Launcher       â”‚       â”‚
â”‚  â”‚  (src/fase4/)       â”‚     â”‚  (src/fase7/)       â”‚       â”‚
â”‚  â”‚                     â”‚     â”‚                     â”‚       â”‚
â”‚  â”‚  â€¢ VisualizaÃ§Ãµes    â”‚     â”‚  â€¢ Comandos         â”‚       â”‚
â”‚  â”‚  â€¢ Controles        â”‚     â”‚  â€¢ HistÃ³rico        â”‚       â”‚
â”‚  â”‚  â€¢ BotÃµes Fase      â”‚     â”‚  â€¢ Status           â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  APPLICATION LAYER                                            â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Orchestrator (src/fase7/orchestrator.py)              â”‚ â”‚
â”‚  â”‚  â€¢ run_phase(n)                                         â”‚ â”‚
â”‚  â”‚  â€¢ run_all_phases()                                     â”‚ â”‚
â”‚  â”‚  â€¢ execution_history                                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Fase 1   â”‚ â”‚ Fase 3   â”‚ â”‚ Fase 4   â”‚ â”‚ Fase 6   â”‚       â”‚
â”‚  â”‚ MÃ³dulos  â”‚ â”‚ MÃ³dulos  â”‚ â”‚ MÃ³dulos  â”‚ â”‚ MÃ³dulos  â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DATA LAYER                                                   â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Database Layer (src/fase2/)                            â”‚ â”‚
â”‚  â”‚  â€¢ SQLAlchemy Models                                    â”‚ â”‚
â”‚  â”‚  â€¢ Engine & Session                                     â”‚ â”‚
â”‚  â”‚  â€¢ Migrations                                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  Oracle DB       â”‚              â”‚  SQLite DB       â”‚     â”‚
â”‚  â”‚  (FIAP)          â”‚              â”‚  (Local Dev)     â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  EXTERNAL SERVICES LAYER                                      â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  AWS SNS         â”‚  â”‚  Weather API     â”‚  â”‚  ESP32     â”‚ â”‚
â”‚  â”‚  (Alertas)       â”‚  â”‚  (OpenWeather)   â”‚  â”‚  (IoT)     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Tecnologias por Camada

### Front-End
- **Streamlit** - Dashboard interativo
- **Plotly** - GrÃ¡ficos dinÃ¢micos
- **Matplotlib/Seaborn** - VisualizaÃ§Ãµes estÃ¡ticas

### Application
- **Python 3.11+** - Linguagem principal
- **FastAPI** - API REST para IoT
- **Pydantic** - ValidaÃ§Ã£o de dados

### Data
- **SQLAlchemy** - ORM
- **oracledb** - Driver Oracle
- **Pandas** - ManipulaÃ§Ã£o de dados

### Machine Learning
- **scikit-learn** - Modelos preditivos
- **PyCaret** - AutoML
- **ultralytics (YOLO)** - Computer Vision

### Cloud/External
- **boto3** - SDK AWS
- **requests** - HTTP client
- **MQTT** - Protocolo IoT (opcional)

## PadrÃµes de Design Utilizados

### 1. Singleton
```python
# alert_service.py
alert_service = AlertService()  # InstÃ¢ncia Ãºnica
```

### 2. Facade
```python
# orchestrator.py
def run_phase(n):  # Interface simplificada
    # Esconde complexidade interna
```

### 3. Factory
```python
# db.py
def get_session():
    return SessionLocal()  # Cria sessions sob demanda
```

### 4. Observer (para alertas)
```python
# Sensores notificam â†’ Alert Service dispara
if reading.umidade < threshold:
    publish_alert(...)
```

## SeguranÃ§a

### Dados SensÃ­veis
- âœ… `.env` para credenciais (nÃ£o commitado)
- âœ… `.gitignore` configurado
- âœ… IAM roles em vez de access keys (produÃ§Ã£o)
- âœ… Secrets Manager para credenciais crÃ­ticas

### ComunicaÃ§Ã£o
- ğŸ”’ HTTPS obrigatÃ³rio em produÃ§Ã£o
- ğŸ”’ ValidaÃ§Ã£o de entrada (Pydantic)
- ğŸ”’ SanitizaÃ§Ã£o de dados do banco

### AWS
- ğŸ”’ PrincÃ­pio de menor privilÃ©gio (IAM)
- ğŸ”’ MFA na conta root
- ğŸ”’ CloudTrail para auditoria
- ğŸ”’ Billing alerts

## Escalabilidade

### Vertical (Aumentar recursos)
- EC2: t3.small â†’ t3.medium â†’ t3.large
- RDS: db.t3.micro â†’ db.t3.small â†’ db.m5.large

### Horizontal (Adicionar instÃ¢ncias)
- Load Balancer (ALB)
- Auto Scaling Group
- ECS Fargate (containers)

### Serverless (Sob demanda)
- Lambda para processamento batch
- API Gateway para endpoints
- DynamoDB para NoSQL

## Monitoramento

```
CloudWatch Metrics
    â”œâ”€â–º CPU Usage
    â”œâ”€â–º Memory Usage
    â”œâ”€â–º Disk I/O
    â”œâ”€â–º Network Traffic
    â””â”€â–º Custom Metrics
            â”œâ”€â–º Alertas enviados/min
            â”œâ”€â–º Leituras sensor/min
            â”œâ”€â–º DetecÃ§Ãµes YOLO/min
            â””â”€â–º Erros/min

CloudWatch Logs
    â”œâ”€â–º Application Logs
    â”œâ”€â–º Error Logs
    â”œâ”€â–º Audit Logs
    â””â”€â–º Access Logs

CloudWatch Alarms
    â”œâ”€â–º CPU > 80% â†’ Escalar
    â”œâ”€â–º Errors > 10/min â†’ Notificar
    â””â”€â–º Disk > 90% â†’ Alertar
```

## Backup e RecuperaÃ§Ã£o

### Dados
- Snapshots EC2 diÃ¡rios
- RDS automated backups (7 dias)
- Backup SQLite para S3

### CÃ³digo
- Git repository (GitHub)
- Docker images (ECR)
- Infrastructure as Code (Terraform)

### RTO/RPO
- **Recovery Time Objective:** < 4 horas
- **Recovery Point Objective:** < 1 hora

---

**Ãšltima AtualizaÃ§Ã£o:** 17/11/2025  
**VersÃ£o:** 1.0  
**Autor:** Grupo 28 - FIAP
